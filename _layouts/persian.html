---
layout: default
math: katex
---
<div dir="rtl" lang="fa" style="text-align: right; direction: rtl; unicode-bidi: embed;">
  {{ content }}
</div>

<style>
  @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css');
  
  [dir="rtl"] {
    font-family: 'Vazir', 'Tahoma', 'Arial', sans-serif;
  }
  
  /* حذف نشانگرهای لیست‌ها */
  [dir="rtl"] ul,
  [dir="rtl"] ol {
    list-style-type: none !important;
    padding-right: 0 !important;
    padding-left: 0 !important;
    margin-right: 1em !important;
    margin-left: 0 !important;
    text-align: right !important;
  }
  
  [dir="rtl"] ul li,
  [dir="rtl"] ol li {
    text-align: right !important;
    direction: rtl !important;
    display: block !important;
    padding-right: 1em !important;
    margin-bottom: 0.5em !important;
  }
  
  [dir="rtl"] ul li:before {
    content: "- ";
    color: #666;
  }

  
  [dir="rtl"] ol li:before {
    content: counter(item) ". ";
    counter-increment: item;
    color: #666;
  }
  
  /* Fix for code blocks */
  [dir="rtl"] pre,
  [dir="rtl"] code,
  [dir="rtl"] .highlighter-rouge div.highlight {
    direction: ltr;
    text-align: left;
    unicode-bidi: isolate;
    font-family: monospace;
  }
  
  [dir="rtl"] div.highlighter-rouge {
    direction: rtl;
    text-align: left;
  }
  
  /* Fix for comments within code blocks */
  [dir="rtl"] pre code span.c,
  [dir="rtl"] pre code span.c1,
  [dir="rtl"] pre code span.cm {
    unicode-bidi: plaintext;
    text-align: right;
    direction: rtl;
  }
  
  /* Fix mixed Persian and English text in comments */
  [dir="rtl"] code span.c:lang(fa),
  [dir="rtl"] code span.c1:lang(fa),
  [dir="rtl"] code span.cm:lang(fa) {
    font-family: 'Vazir', monospace;
    margin-left: auto; /* Remove auto margin to prevent extreme right alignment */
  }
  
  /* Fix code lines containing comments */
  [dir="rtl"] code .line {
    unicode-bidi: isolate;
    display: flex;
    flex-direction: row;
    width: 100%;
  }
  
  /* Fix for comments positioning */
  [dir="rtl"] code .comment {
    unicode-bidi: plaintext;
    direction: rtl;
    display: inline;
    text-align: right;
  }
</style>

<script>
  // Find all code blocks after page load
  window.addEventListener('DOMContentLoaded', function() {
    // Fix for comments containing Persian text in code blocks
    const codeBlocks = document.querySelectorAll('pre code');
    codeBlocks.forEach(function(codeBlock) {
      // Find all comment spans
      const comments = codeBlock.querySelectorAll('.c, .c1, .cm');
      comments.forEach(function(comment) {
        // Check if comment contains Persian characters
        if (/[\u0600-\u06FF]/.test(comment.textContent)) {
          comment.setAttribute('lang', 'fa');
          comment.style.direction = 'rtl';
          comment.style.textAlign = 'right';
          comment.style.display = 'inline';
          comment.style.unicodeBidi = 'plaintext';
          
          // Find any parent that might be a line container
          let lineParent = comment.parentElement;
          while (lineParent && !lineParent.classList.contains('line') && lineParent !== codeBlock) {
            lineParent = lineParent.parentElement;
          }
          
          // If we found a line container, add some padding
          if (lineParent && lineParent !== codeBlock) {
            if (lineParent.style.display !== 'flex') {
              lineParent.style.display = 'flex';
            }
            comment.style.marginRight = '1em'; // Add some space after code
          }
        }
      });
    });
    
    // Add a mutation observer to handle dynamic code highlighting
    const observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.addedNodes.length) {
          mutation.addedNodes.forEach(function(node) {
            if (node.nodeType === 1) { // Element node
              const newComments = node.querySelectorAll('.c, .c1, .cm');
              newComments.forEach(function(comment) {
                if (/[\u0600-\u06FF]/.test(comment.textContent)) {
                  comment.setAttribute('lang', 'fa');
                  comment.style.direction = 'rtl';
                  comment.style.textAlign = 'right';
                }
              });
            }
          });
        }
      });
    });
    
    // Start observing code blocks for dynamic changes
    document.querySelectorAll('pre').forEach(function(pre) {
      observer.observe(pre, { childList: true, subtree: true });
    });

    // Fix RTL list display issues
    const rtlContainer = document.querySelector('[dir="rtl"]');
    if (rtlContainer) {
      const lists = rtlContainer.querySelectorAll('ul, ol');
      
      lists.forEach(function(list) {
        list.style.listStyleType = 'none';
        list.style.paddingRight = '0';
        list.style.paddingLeft = '0';
        list.style.marginRight = '1em';
        list.style.marginLeft = '0';
        list.style.textAlign = 'right';
        
        const items = list.querySelectorAll('li');
        items.forEach(function(item) {
          item.style.textAlign = 'right';
          item.style.direction = 'rtl';
          item.style.display = 'block';
          item.style.paddingRight = '0em'; 
          item.style.marginBottom = '0.5em';
          
          // Remove any existing markers
          const existingMarker = item.querySelector('.list-marker');
          if (existingMarker) {
            existingMarker.remove();
          }
        });
      });
    }
  });
</script>
